<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:p="http://primefaces.org/ui">
    <h:form id="mLateral">
        <p:menu rendered="#{p:ifAnyGranted('JEFE_INSPECCIONES,ADMIN,EQUIPO_INSPECCIONES,SERVICIO_APOYO,GABINETE')}">
            <p:submenu label="Administración" rendered="#{p:ifGranted('ADMIN')}">
                <p:menuitem value="Cuerpos" outcome="/administracion/cuerpos/cuerpos" />
                <p:menuitem value="Tipos de equipo" outcome="/administracion/tipoequipo/tiposEquipo" />
                <p:menuitem value="Registro de actividad" action="#{regActividadBean.getFormularioRegActividad}"/>
                <p:menuitem value="Sugerencias de mejora" outcome="/administracion/sugerencias/sugerenciasListado" />
                <p:menuitem value="Papelera" action="#{gestorDocumentalBean.resetBusquedaEliminados}"/>
                <p:menuitem value="Puestos de trabajo" outcome="/administracion/puestosTrabajo/puestosTrabajo" />
                <p:menuitem value="Departamentos" outcome="/administracion/departamentos/departamentos" />
            </p:submenu>
            
            <p:submenu label="Usuarios" id="menuUsuarios">
                <p:menuitem value="Administrar usuarios" action="#{userBean.getFormularioBusquedaUsuarios}" />
            </p:submenu>
            
            <p:submenu label="Solicitudes previas cuestionario">
                <p:menuitem value="Tipos documentación previa" outcome="/documentacionPrevia/documentacionPrevia" rendered="#{p:ifAnyGranted('JEFE_INSPECCIONES,SERVICIO_APOYO,GABINETE,ADMIN')}" />
                <p:menuitem value="Crear solicitud documentación" outcome="/solicitudesPrevia/crearSolicitud" rendered="#{p:ifAnyGranted('JEFE_INSPECCIONES,SERVICIO_APOYO,ADMIN')}" />
                <p:menuitem value="Búsqueda de solicitudes" action="#{solicitudDocPreviaBean.getFormBusquedaSolicitudes}"/>
            </p:submenu>
            
            <p:submenu label="Cuestionarios">
                <p:menuitem value="Modelos de cuestionario" outcome="/cuestionarios/modelosCuestionarios" />
                <p:menuitem value="Búsqueda cuest. personalizados" action="#{cuestionarioPersonalizadoBean.getFormBusquedaModelosCuestionario}"/>
                <p:menuitem value="Búsqueda cuest. enviados" action="#{cuestionarioEnviadoBean.getFormBusquedaCuestionarios}"/>
            </p:submenu>

            <p:submenu label="Gestor Documental">
                <p:menuitem value="Búsqueda de documentos" action="#{gestorDocumentalBean.resetBusqueda}"/>
            </p:submenu>
            
            <p:submenu label="Guías">
                <p:menuitem value="Modelos de guía" action="#{guiaBean.getFormularioBusqueda}"/>
                <p:menuitem value="Búsqueda guías personalizadas" action="#{guiaPersonalizadaBean.getFormularioBusqueda}"/>
            </p:submenu>
            
            <p:submenu label="Inspecciones">
                <p:menuitem value="Administrar equipos" action="#{equiposBean.getFormularioBusquedaEquipos}"/>
                <p:menuitem value="Búsqueda de inspecciones" action="#{inspeccionBean.getFormularioBusqueda}"/>
                <p:menuitem value="Modelos de inspección" outcome="/inspecciones/modeloInspeccion/tiposInspeccion" rendered="#{p:ifAnyGranted('JEFE_INSPECCIONES,ADMIN')}" />
                <p:menuitem value="Estadísticas" action="#{estadisticaBean.getEstadisticas}" />
            </p:submenu>

            <p:submenu label="Informes">
                <p:menuitem value="Modelos de informe" outcome="/enConstruccion" />
                <p:menuitem value="Búsqueda de informes"  outcome="/enConstruccion" /> <!-- outcome="/informes/informes" -->
            </p:submenu>
        </p:menu>

        <p:menu rendered="#{p:ifAnyGranted('PROV_SOLICITUD')}">
            <p:submenu label="Solicitud previa cuestionario">
                <p:menuitem value="Cumplimentar solicitud" action="#{provisionalSolicitudBean.visualizarSolicitud}"/>
                <p:menuitem value="Descarga de plantillas" outcome="/provisionalSolicitud/descargaPlantillas" />
            </p:submenu>
        </p:menu>

        <p:menu rendered="#{p:ifAnyGranted('PROV_CUESTIONARIO')}">
            <p:submenu label="Cuestionario">
                <p:menuitem value="Responder cuestionario" outcome="/cuestionarios/responderCuestionario" />
            </p:submenu>
        </p:menu>

    </h:form>

</ui:composition>