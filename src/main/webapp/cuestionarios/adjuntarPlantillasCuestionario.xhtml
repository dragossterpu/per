<ui:composition template="#{p:ifAnyGranted('PROV_CUESTIONARIO') ? '/layouts/layoutInteriorProv.xhtml' : '/layouts/layoutInterior.xhtml'}" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui" xmlns:fn="http://java.sun.com/jsp/jstl/functions">
    <ui:define name="content">
            
    <ui:param name="titulo" value="Adjuntar plantillas" />
    <f:event listener="#{navegacionBean.adelante(titulo, request.servletPath)}" type="preRenderView"/>
    <h3>#{titulo}</h3>
     
    <h:form id="adjuntaPlantillas">
        <p:outputPanel id="panelPlantillas" >
            <p:dataTable id="tablaPlantillas" var="plantilla" value="#{envioCuestionarioBean.listaPlantillas}" selection="#{envioCuestionarioBean.plantillasSeleccionadas}" rowKey="#{plantilla.id}" emptyMessage="No se han encontrado resultados">
                <f:facet name="header">
                    Plantillas
                </f:facet>
                <p:column selectionMode="multiple" styleClass="columnaSeleccionTabla"/>
                <p:column headerText="Todas">
                    <h:outputText value="#{plantilla.nombre}"> </h:outputText>
                </p:column>
            </p:dataTable>
        </p:outputPanel>
        <div class="botonesFormulario">
            <p:commandButton id="adjuntar" action="#{envioCuestionarioBean.adjuntarPlantilla}" value="Adjuntar" icon="fa fa-plus"/>
            <p:button id="volver" value="Volver" outcome="/cuestionarios/enviarCuestionario" icon="fa fa-undo"/>
        </div>
    </h:form>

    </ui:define>
</ui:composition>
