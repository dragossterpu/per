<ui:composition template="/layouts/layoutInterior.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:my="http://java.sun.com/jsf/composite/composites">
	<ui:define name="content">

		<div class="tituloCuestionario">
			<h:outputText value="#{guiaBean.guia.nombre}"/>
		</div>

		<div class="bloqueFormulario" >
			<h:form id="form">
				<p:messages autoUpdate="true" closable="true" />
				<h:panelGrid columns="2" columnClasses="label, value">
					<h:outputLabel for="inputNombre" value="Nombre (*):" />
					<p:inputText id="inputNombre" binding="#{inputNombre}" />
					<h:outputLabel for="infoInspeccion" value="Nombre Unidad - Número Inspección:" />
					<p:autoComplete id="infoInspeccion" value="#{infoInspeccion}" completeMethod="#{guiaBean.autocompletarInspeccion}"
                        var="inspeccion" itemLabel="#{inspeccion.nombreUnidad.concat(' - ').concat(inspeccion.numero)}" itemValue="#{inspeccion}" converter="#{selectConverter}" forceSelection="true" emptyMessage="No se encuentraron resultados coincidentes"
                        queryDelay="1000">
                   </p:autoComplete>
				</h:panelGrid>
				<div id="pasos">
					<my:selectManyCheckboxAll value="#{guiaBean.listaPasosSeleccionados}" >
				        	<f:selectItems value="#{guiaBean.listaPasos}" var="paso" itemLabel="#{paso.paso}" 
				        	itemValue="#{paso}"/>
			    	</my:selectManyCheckboxAll>
				</div>
				
			   
			    <div class="botonesFormulario">
					<p:button outcome="/guias/buscaGuias?faces-redirect=true" value="Volver" icon="fa fa-fw fa-undo"/>
					<p:commandButton value="Guardar" actionListener="#{guiaBean.guardarPersonalizada(inputNombre.value, infoInspeccion)}" icon="fa fa-fw fa-save"/>
				</div>
			    
			    <p:dialog id="dialog" widgetVar="dialogMessage" header="INFO" closable="false">
					<p:messages for="dialogMessage" autoUpdate="true" showDetail="true" showSummary="true"/>
					<div class="centrarBotonesDialog">
						<p:button value="Cerrar" outcome="/guias/buscaGuias?faces-redirect=true" />
					</div>
				</p:dialog> 

			</h:form>
		</div>
		
	</ui:define>
</ui:composition>