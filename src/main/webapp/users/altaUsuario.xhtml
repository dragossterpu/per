<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<f:view>
	<ui:composition template="../layouts/layoutInterior.xhtml">
		<ui:define name="content">

		<h2>Nuevo Usuario</h2>
		<h:form id="formAlta">
			<div class="bloqueFormulario">
					<h3>Datos Personales</h3>
					<div class="columnaIzdaFormulario">
						<h:outputLabel for="nombre" value="Nombre (*):" />
						<p:inputText id="nombre" value="#{userBean.user.nombre}" required="true" requiredMessage="Introduzca el nombre"/>
						<p:message severity="info,warn" for="nombre"/>
	
						<h:outputLabel for="apellido1" value="Primer apellido (*):" />
						<p:inputText id="apellido1" value="#{userBean.user.apellido1}" required="true" requiredMessage="Introduzca el primer apellido"/>
	
						<h:outputLabel for="numIdentificacion" value="Número de identificación:" />
						<p:inputText id="numIdentificacion" value="#{userBean.user.numIdentificacion}"
							 />
	
						<h:outputLabel for="correo" value="Correo electrónico (*): " />
						<p:inputText id="correo" value="#{userBean.user.correo}"  required="true" requiredMessage="Introduzca el correo electrónico"/>
						
						<h:outputLabel for="fechaDestino" value="Fecha destino IPSS (*):" />
						<p:calendar value="#{userBean.user.fechaDestinoIPSS}" id="fechaDestino" pattern="dd/MM/yyyy" navigator="true"
								required="true" requiredMessage="Introduzca la fecha de destino a la IPSS"/>
					</div>
	
					<div class="columnaDchaFormulario">
						<h:outputLabel for="fechaAlta" value="Fecha alta:" />
						<p:inputText id="fechaAlta" value="#{userBean.user.fechaAlta}" readonly="true">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</p:inputText>
	
						<h:outputLabel for="apellido2" value="Segundo apellido:" />
						<p:inputText id="apellido2" value="#{userBean.user.apellido2}"  />
	
						<h:outputLabel for="telefono" value="Teléfono:" />
						<p:inputText id="telefono" value="#{userBean.user.telefono}"  />
	
						<h:outputLabel for="docIndentidad" value="NIF: " />
						<p:inputText id="docIndentidad" value="#{userBean.user.docIndentidad}" />
					</div>
			</div>
	
			<div class="bloqueFormulario">
				<h3>Perfil</h3>
	
				<div class="columnaIzdaFormulario">
					<h:outputLabel for="username" value="Nombre usuario (*):" />
					<p:inputText id="username" value="#{userBean.user.username}" required="true" requiredMessage="Introduzca el nombre de usuario"/>
						
					<h:outputLabel for="estado" value="Estado:" />
					<p:inputText id="estado" value="#{userBean.user.estado}" readonly="true" />
					
					<h:outputLabel for="puestoTrabajoSelect" value="Puesto de trabajo (*):" />
					<p:selectOneMenu value="#{userBean.puestoTrabajoSeleccionado}" id="puestoTrabajoSelect" 
							required="true" requiredMessage="Seleccione un puesto de trabajo"
							>
						<f:selectItem itemLabel="Seleccione uno" itemValue="" />
						<f:selectItems value="#{userBean.puestosTrabajo}" var="puestoTrabajo"
							itemLabel="#{puestoTrabajo.descripcion}" itemValue="#{puestoTrabajo}" />
					</p:selectOneMenu>
				</div>
				
				<div class="columnaDchaFormulario">
					<h:outputLabel for="cuerpoEstadoSelect" value="Cuerpo del estado (*):" />
					<p:selectOneMenu value="#{userBean.cuerpoEstadoSeleccionado}" id="cuerpoEstadoSelect" required="true" requiredMessage="Seleccione un cuerpo del estado">
						<f:selectItem itemLabel="Seleccione uno" itemValue="" />
						<f:selectItems value="#{userBean.cuerposEstado}" var="cuerpoEstado"
							itemLabel="#{cuerpoEstado.descripcion}" itemValue="#{cuerpoEstado}" />
					</p:selectOneMenu>
						
					<h:outputLabel for="envioNotificacion" value="¿Envío notificaciones? (*)" />
					<p:inputText id="envioNotificacion" value="#{userBean.user.envioNotificacion}"  required="true" requiredMessage="Seleccione una opción para el envío de notificaciones"/>
					
					<h:outputLabel for="nivel" value="Nivel (*):" />
					<p:inputNumber id="nivel" value="#{userBean.user.nivel}"  required="true" requiredMessage="Introduzca el nivel del usuario"/>
				</div>
			</div>
			
			<div class="botonesFormulario">
				<p:commandButton action="#{userBean.altaUsuario}" value="Crear usuario" />
				<p:button outcome="/users/usuarios" value="Cancelar"/>
			</div>
			
			<div class="clear">
				<p:messages id="messages" autoUpdate="true" closable="true" />
			</div>
		
		</h:form>
		
		</ui:define>
	</ui:composition>
</f:view>
</html>
